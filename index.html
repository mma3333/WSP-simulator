<div id="ece-simulator" style="font-family: Arial, sans-serif; max-width: 700px; margin: auto; padding: 20px;">
  <h2 style="font-size: 1.5em;">WSP – Educator Funding Estimator</h2>
  <p style="font-size: 1em;"><strong>Disclaimer:</strong> This simulation is provided for informational purposes only. It does not guarantee employment or funding level. Final classification is determined by the Department of Education and Early Childhood Development based on official verification.</p>

  <label><strong>1. What is your educational background?</strong></label><br>
  <select id="education" style="margin-top: 10px; padding: 10px; width: 100%; font-size: 1em;">
    <option value="">-- Please select --</option>
    <option value="ece">Canadian ECE certificate or diploma (1+ year)</option>
    <option value="degree">Canadian college or university degree</option>
    <option value="international">International credentials</option>
    <option value="none">No post-secondary diploma or degree</option>
  </select>

  <div id="q2" style="margin-top: 20px; display: none;"></div>
  <div id="q3" style="margin-top: 20px; display: none;"></div>
  <div id="q4" style="margin-top: 20px; display: none;"></div>
  <div id="q5" style="margin-top: 20px; display: none;"></div>
  <div id="result" style="margin-top: 30px; font-weight: bold;"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const education = document.getElementById("education");
  const q2 = document.getElementById("q2");
  const q3 = document.getElementById("q3");
  const q4 = document.getElementById("q4");
  const q5 = document.getElementById("q5");
  const result = document.getElementById("result");

  education.addEventListener("change", function () {
    resetAll(1);
    if (this.value === "ece") {
      q2.style.display = "block";
      q2.innerHTML = `
        <label><strong>2. Was your certificate/diploma issued in New Brunswick?</strong></label><br>
        <label><input type="radio" name="nb-issued" value="yes"> Yes</label><br>
        <label><input type="radio" name="nb-issued" value="no"> No</label>
      `;

      document.querySelectorAll("input[name='nb-issued']").forEach(r => {
        r.addEventListener("change", function () {
          resetAll(2);
          if (this.value === "yes") {
            showYears(false);
          } else {
            askAgeGroup();
          }
        });
      });
    }
  });

  function askAgeGroup() {
    q3.style.display = "block";
    q3.innerHTML = `
      <label><strong>3. What age group of children do you want to work with?</strong></label><br>
      <label><input type="radio" name="age-group" value="0-5"> Ages 0 to 5</label><br>
      <label><input type="radio" name="age-group" value="6plus"> Ages 6 and above</label>
    `;

    document.querySelectorAll("input[name='age-group']").forEach(r => {
      r.addEventListener("change", function () {
        resetAll(3);
        const isConditional = (this.value === "0-5");
        showYears(isConditional);
      });
    });
  }

  function showYears(conditional) {
    q5.style.display = "block";
    q5.innerHTML = `
      <label><strong>4. How many years of experience working with children do you have since your certificate or diploma was issued?</strong></label><br>
      
      <label><input type="radio" name="exp-years" value="lt1"> Less than 1 year</label><br>
      <label><input type="radio" name="exp-years" value="1to2"> More than 1 year to less than 2 years</label><br>
      <label><input type="radio" name="exp-years" value="gt2"> More than 2 years</label>
    `;

    document.querySelectorAll("input[name='exp-years']").forEach(r => {
      r.addEventListener("change", function () {
        result.innerHTML = "";
        let step = '', hourly = '', yearly = '';
        if (this.value === 'lt1') { step = 'Step 1'; hourly = '$24.00'; yearly = '$49,920'; }
        else if (this.value === '1to2') { step = 'Step 2'; hourly = '$25.00'; yearly = '$51,998'; }
        else if (this.value === 'gt2') { step = 'Step 3'; hourly = '$26.00'; yearly = '$54,080'; }

        if (conditional) {
          result.innerHTML = `
            <p>$1*</p>
            <p><strong>Minimum hourly wage:</strong> $24.00<br>
               <strong>Annual equivalent:</strong> $49,920</p>
            <p>* $1 will remain at Step 1 of their approved Level, regardless of their years of experience, until they have completed one of the following mandatory training requirements:</p>
            <ul>
              <li>90-hour Introduction to Early Childhood Education OR</li>
              <li>30-hour Curriculum (New Brunswick Curriculum Framework for Early Learning and Childcare, OR Curriculum éducatif des Services de garde francophones du Nouveau-Brunswick)</li>
            </ul>
            <p>Once the mandatory training is completed, educators may be reassessed and placed at the Step that corresponds to their experience acquired since their certificate or diploma was issued.</p>
            <p style="font-size: 0.95em;">The ECE Wage Grid sets out the required minimum hourly wage rate operators must pay eligible educators, effective April 1st, 2025.</p>
          `;
        } else {
          result.innerHTML = `
            <p>You may be eligible for <strong>Level 1 – ${step}</strong>.</p>
            <p><strong>Minimum hourly wage:</strong> ${hourly}<br>
               <strong>Annual equivalent:</strong> ${yearly}</p>
            <p style="font-size: 0.95em;">The ECE Wage Grid sets out the required minimum hourly wage rate operators must pay eligible educators, effective April 1st, 2025. Operators may choose to pay above the minimum.</p>
          `;
        }
      });
    });
  }

  function resetAll(fromStep) {
    if (fromStep <= 1) {
      q2.style.display = 'none';
      q2.innerHTML = '';
    }
    if (fromStep <= 2) {
      q3.style.display = 'none';
      q3.innerHTML = '';
    }
    if (fromStep <= 3) {
      q5.style.display = 'none';
      q5.innerHTML = '';
    }
    if (fromStep <= 4) {
      result.innerHTML = '';
    }
  }
});
</script>
